<div class='content' *ngIf='basicInfo != null'>
  <div class='info-card'>
    
    <h5 class='pop-name-mobile'>{{ basicInfo.name }}</h5>

    <div class='image-container'>
      <img src="http://localhost:8000/api/funkopop/{{ basicInfo.image }}" />
    </div>
    <div class="info-text">

      <h5 class='pop-name-desktop'>{{ basicInfo.name }}</h5>
    
      <div class='series-info'>
          <h6>Series</h6>
          <h6 class='info-separator'>&nbsp; - &nbsp;</h6>
          <h6>Pop! {{ basicInfo.seriesName }} </h6>
      </div>

      <div class='category-info'>
          <h6>Category</h6>
          <h6 class='info-separator'>&nbsp; - &nbsp;</h6>
          <h6>{{ basicInfo.categoryName }}</h6>
      </div>

      <div class='number-info'>
          <h6>Number</h6>
          <h6 class='info-separator'>&nbsp; - &nbsp;</h6>
          <h6>{{ basicInfo.number }}</h6>
      </div> 

      <div class='add-buttons'>
          <i id='{{ basicInfo.id }}-collection-button' class="fas fa-plus-circle" [class.text-color-green]="collection.includes(basicInfo.id)" (click)="addToCollection(basicInfo.id, basicInfo.name)"></i>
          <i id='{{ basicInfo.id }}-wishlist-button' class="fab fa-gratipay" [class.text-color-red]="wishlist.includes(basicInfo.id)" (click)="addToWishlist(basicInfo.id, basicInfo.name)"></i>
      </div>
    </div>
  </div>

  <h4 class='more-in' *ngIf='categorypops != null && categorypops.length > 0'>More in {{ basicInfo.categoryName }}</h4>
  <div class='more-in-category' *ngIf='categorypops != null && categorypops.length > 0'>
      <div class='category-pops'>
        <div routerLink="/funko/{{funkopop.series}}/{{funkopop.category}}/{{funkopop.name}}" class='individual-category-pop' *ngFor='let funkopop of categorypops'>
            <img src="http://localhost:8000/api/funkopop/{{ funkopop.image }}" />
        </div>
      </div>
  </div>

  <h4 class='more-in' *ngIf='seriespops != null && seriespops.length > 0'>More in Pop! {{ basicInfo.seriesName }}</h4>
  <div class='more-in-series' *ngIf='seriespops != null && seriespops.length > 0'>
    <div class='series-pops'>
      <div routerLink="/funko/{{funkopop.series}}/{{funkopop.category}}/{{funkopop.name}}" class='individual-series-pop' *ngFor='let funkopop of seriespops'>
          <img src="http://localhost:8000/api/funkopop/{{ funkopop.image }}" />
      </div>
    </div>
  </div>

  <div class='available-ebay-listings'>
    <table *ngIf='availableEbayListings != null && availableEbayListings.length > 0'>
      <tr class='column-headings'>
        <th></th>
        <th>Title</th> 
        <th>Location</th>
        <th>Current Price</th>
        <th>Shipping</th>
      </tr>
      <tr *ngFor='let ebayListing of availableEbayListings'>
        <td class='image-column'><img src='{{ ebayListing.galleryURL }}' /></td>
        <td>
          <a class='listing-title' href='{{ ebayListing.viewItemURL }}' target='_blank'>
            <span *ngIf="ebayListing.listingInfo[0].listingType[0] != 'Auction'">[Buy it Now]<br/></span>
            <span *ngIf="ebayListing.listingInfo[0].listingType[0] == 'Auction'">[Auction]<br/></span>
            {{ ebayListing.title }}
          </a>
          
        </td>
        <td>{{ ebayListing.location }}</td>
        <td>
          ${{ ebayListing.sellingStatus[0].currentPrice[0].__value__ }}
          <span *ngIf='ebayListing.listingInfo[0].bestOfferEnabled[0] == "true"'>/ Best Offer</span>
        </td>
        <td *ngIf="ebayListing.shippingInfo[0].shippingType[0] == 'FlatDomesticCalculatedInternational'"> ${{ ebayListing.shippingInfo[0].shippingServiceCost[0].__value__ }} in U.S. </td>
        <td *ngIf="ebayListing.shippingInfo[0].shippingType[0] == 'Free'"> Free </td>
        <td *ngIf="ebayListing.shippingInfo[0].shippingType[0] == 'Calculated'">Based on location</td>
        <td *ngIf="ebayListing.shippingInfo[0].shippingType[0] == 'Flat'">${{ ebayListing.shippingInfo[0].shippingServiceCost[0].__value__ }}</td>
      </tr>
    </table>
  </div>
</div>